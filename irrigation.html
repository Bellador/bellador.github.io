<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soil Moisture Measurement</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            text-align: center;
        }

        h1 {
            color: #333;
        }

        .moisture-value {
            font-size: 24px;
            margin: 20px 0;
        }

        .traffic-light {
            width: 100px;
            height: 100px;
            display: inline-block;
            margin-top: 20px;
            border-radius: 50%; /* Make it a circle */
        }

        .soil-condition-text {
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
        }

        .chart-container {
            width: 80%;
            margin: 20px auto;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        function updateMoistureColor() {
            var moistureValue = parseFloat('2.155');
            var color = 'black'; // Default color
            var soilConditionText = 'Unknown';

            if (!isNaN(moistureValue)) {
                if (moistureValue >= 1.8) {
                    color = 'green'; // Green for high moisture
                    soilConditionText = 'Green: Sufficiently Watered';
                } else if (moistureValue >= 1.3) {
                    color = 'orange'; // Orange for moderate moisture
                    soilConditionText = 'Orange: Consider Watering';
                } else {
                    color = 'red'; // Red for low moisture
                    soilConditionText = 'Red: Needs Urgent Water';
                    
                }
            }

            var moistureElement = document.querySelector('.moisture-value');
            moistureElement.style.color = color;

            var trafficLightElement = document.querySelector('.traffic-light');
            trafficLightElement.style.backgroundColor = color;

            var soilConditionTextElement = document.querySelector('.soil-condition-text');
            soilConditionTextElement.innerText = soilConditionText;
        }

        function createLineChart(data) {
            var ctx = document.getElementById('lineChart').getContext('2d');
            const labelConcat = data.time.concat(data.irrigationEvents);
            labelConcat.sort((a, b) => a - b);
            console.log(labelConcat);
            var myChart = new Chart(ctx, {
                type: 'line',
                data:{
                    labels: labelConcat,
                    datasets: [{
                        label: 'Soil Moisture',
                        data: data.moisture,
                        borderColor: 'brown',
                        borderWidth: 2,
                        fill: false
                    },
                    {
                        label: 'Irrigation Events',
                        data: data.irrigationEvents.map(function(timestamp) {
                            return 0;  // y-value for the bar chart
                        }),
                        backgroundColor: 'blue',
                        borderColor: 'rgba(0, 0, 255, 0.4)',
                        borderWidth: 20,  // Adjust the line width as needed
                        fill: false
                    }]
                },
                options: {
                    plugins: {
                        filler: {
                            propagate: false
                        }
                    },
                    scales: {
                        x: {
                            title: {
                              display: true,
                              text: 'Time of Measurement'
                            }
                        },
                        y: {
                            title: {
                                  display: true,
                                  text: 'Relative Moisture'
                                }
                            }
                    }
                }
            });

            // Add two horizontal lines and color the area below 1.3 red, between 1.3 and 1.8 orange, and above 1.8 green
            myChart.data.datasets.push({
                borderColor: 'transparent',  // Hide the line
                data: Array(data.time.length).fill(1.3),
                borderWidth: 0,
                pointRadius: 0,
                fill: 'start',
                backgroundColor: 'rgba(255, 0, 0, 0.4)',  // Transparent red
                label: 'Danger',  // Add an empty label to hide the legend item
            });

            myChart.data.datasets.push({
                borderColor: 'transparent',  // Hide the line
                data: Array(data.time.length).fill(1.8),
                borderWidth: 0,
                pointRadius: 0,
                fill: '-1',
                backgroundColor: 'rgba(255, 165, 0, 0.4)',  // Transparent orange
                label: 'Caution',  // Add an empty label to hide the legend item
            });

            myChart.data.datasets.push({
                borderColor: 'transparent',  // Hide the line
                data: Array(data.time.length).fill(3),
                borderWidth: 0,
                pointRadius: 0,
                fill: 'start',
                backgroundColor: 'rgba(0, 128, 0, 0.4)',  // Transparent green
                label: 'Good',  // Add an empty label to hide the legend item
            });

            myChart.update();

        }


        var Data = {
            time: ['2023-09-17 12:51:30', '2023-09-17 12:55:30', '2023-09-17 13:01:49', '2023-09-17 13:11:54', '2023-09-17 13:21:59', '2023-09-17 13:32:04', '2023-09-17 13:42:09', '2023-09-17 13:52:15', '2023-09-17 14:02:20', '2023-09-17 14:12:25'],
            moisture: [2.465, 2.779, 2.332, 2.277, 2.239, 2.219, 2.198, 2.191, 2.178, 2.144, 2.133, 2.114, 2.105, 2.0749999999999997, 2.0469999999999997, 2.025, 1.983, 1.944, 1.907, 1.879, 1.8409999999999997, 1.8249999999999997, 1.8239999999999998, 1.8049999999999997, 1.806, 1.8329999999999997, 1.8329999999999997, 1.8479999999999999, 1.8409999999999997, 1.8439999999999999, 1.8329999999999997, 1.8329999999999997, 2.735, 2.62, 2.516, 2.457, 2.435, 2.421, 2.397, 2.388, 2.38, 2.384, 2.379, 2.37, 2.375, 2.37, 2.359, 2.356, 2.3569999999999998, 2.3569999999999998, 2.3579999999999997, 2.3499999999999996, 2.354, 2.3449999999999998, 2.3489999999999998, 2.339, 2.3489999999999998, 2.342, 2.334, 2.331, 2.338, 2.3369999999999997, 2.338, 2.344, 2.341, 2.346, 2.339, 2.348, 2.348, 2.3489999999999998, 2.348, 2.351, 2.348, 2.355, 2.352, 2.3529999999999998, 2.36, 2.364, 2.367, 2.363, 2.372, 2.371, 2.377, 2.37, 2.3819999999999997, 2.3819999999999997, 2.389, 2.384, 2.394, 2.393, 2.392, 2.399, 2.404, 2.412, 2.407, 2.4139999999999997, 2.427, 2.432, 2.424, 2.4339999999999997, 2.441, 2.44, 2.457, 2.464, 2.464, 2.465, 2.465, 2.4699999999999998, 2.46, 2.464, 2.468, 2.473, 2.469, 2.463, 2.473, 2.472, 2.472, 2.479, 2.477, 2.48, 2.593, 2.735, 2.706, 2.679, 2.69, 2.699, 2.75, 2.8249999999999997, 2.802, 2.788, 2.7649999999999997, 2.7889999999999997, 2.856, 2.832, 2.8, 2.774, 2.758, 2.754, 2.75, 2.756, 2.755, 2.7729999999999997, 2.806, 2.7849999999999997, 2.777, 2.7489999999999997, 2.739, 2.734, 2.7199999999999998, 2.7119999999999997, 2.709, 2.69, 2.6879999999999997, 2.684, 2.682, 2.6719999999999997, 2.663, 2.668, 2.66, 2.658, 2.654, 2.654, 2.647, 2.639, 2.634, 2.635, 2.634, 2.626, 2.633, 2.636, 2.6319999999999997, 2.634, 2.625, 2.625, 2.629, 2.627, 2.626, 2.636, 2.6319999999999997, 2.636, 2.63, 2.625, 2.633, 2.63, 2.627, 2.633, 2.627, 2.627, 2.627, 2.628, 2.634, 2.63, 2.637, 2.636, 2.627, 2.637, 2.628, 2.628, 2.628, 2.637, 2.633, 2.636, 2.626, 2.639, 2.634, 2.633, 2.636, 2.639, 2.634, 2.644, 2.636, 2.639, 2.634, 2.651, 2.65, 2.6559999999999997, 2.652, 2.665, 2.658, 2.668, 2.674, 2.679, 2.6759999999999997, 2.674, 2.683, 2.685, 2.685, 2.687, 2.683, 2.678, 2.6919999999999997, 2.681, 2.689, 2.694, 2.685, 2.695, 2.694, 2.6919999999999997, 2.698, 2.694, 2.69, 2.689, 2.703, 2.694, 2.694, 2.701, 2.6959999999999997, 2.699, 2.703, 2.6959999999999997, 2.697, 2.694, 2.697, 2.703, 2.702, 2.698, 2.694, 2.6919999999999997, 2.683, 2.677, 2.68, 2.6719999999999997, 2.671, 2.68, 2.667, 2.665, 2.657, 2.653, 2.641, 2.651, 2.639, 2.653, 2.65, 2.6399999999999997, 2.629, 2.628, 2.6079999999999997, 2.605, 2.596, 2.583, 2.574, 2.569, 2.535, 2.502, 2.513, 2.516, 2.527, 2.52, 2.508, 2.504, 2.448, 2.435, 2.423, 2.401, 2.397, 2.379, 2.346, 2.36, 2.3609999999999998, 2.342, 2.318, 2.3049999999999997, 2.264, 2.264, 2.253, 2.242, 2.1999999999999997, 2.209, 2.205, 2.197, 2.2039999999999997, 2.217, 2.219, 2.2279999999999998, 2.221, 2.23, 2.2279999999999998, 2.223, 2.221, 2.23, 2.231, 2.2199999999999998, 2.229, 2.219, 2.223, 2.23, 2.223, 2.229, 2.239, 2.229, 2.237, 2.2359999999999998, 2.243, 2.2439999999999998, 2.243, 2.2479999999999998, 2.245, 2.2479999999999998, 2.251, 2.247, 2.242, 2.2399999999999998, 2.234, 2.238, 2.249, 2.238, 2.253, 2.253, 2.249, 2.242, 2.2399999999999998, 2.2479999999999998, 2.249, 2.251, 2.251, 2.259, 2.257, 2.25, 2.245, 2.258, 2.253, 2.252, 2.247, 2.251, 2.251, 2.246, 2.254, 2.256, 2.2439999999999998, 2.249, 2.243, 2.245, 2.246, 2.246, 2.256, 2.249, 2.25, 2.252, 2.249, 2.262, 2.257, 2.259, 2.266, 2.266, 2.258, 2.27, 2.265, 2.26, 2.269, 2.259, 2.273, 2.273, 2.269, 2.263, 2.263, 2.265, 2.257, 2.261, 2.256, 2.257, 2.262, 2.258, 2.249, 2.239, 2.221, 2.227, 2.211, 2.1959999999999997, 2.201, 2.1799999999999997, 2.1719999999999997, 2.14, 2.129, 2.1149999999999998, 2.1229999999999998, 2.109, 2.113, 2.1189999999999998, 2.117, 2.105, 2.0789999999999997, 2.037, 2.0149999999999997, 1.9939999999999998, 1.9859999999999998, 1.9779999999999998, 1.9659999999999997, 1.958, 1.9419999999999997, 1.948, 1.9449999999999998, 1.94, 1.9419999999999997, 1.9509999999999998, 1.9499999999999997, 1.9619999999999997, 1.9649999999999999, 1.96, 1.9739999999999998, 1.9619999999999997, 1.9769999999999999, 1.9769999999999999, 1.979, 1.975, 1.9769999999999999, 1.944, 1.9299999999999997, 1.9369999999999998, 1.944, 1.946, 1.9509999999999998, 1.973, 1.984, 1.9769999999999999, 1.9979999999999998, 2.007, 2.009, 2.01, 2.016, 2.024, 2.033, 2.03, 2.019, 2.03, 2.026, 2.028, 2.041, 2.038, 2.045, 2.053, 2.7409999999999997, 2.6879999999999997, 2.691, 2.708, 2.7199999999999998, 2.711, 2.691, 2.679, 2.655, 2.651, 2.642, 2.636, 2.63, 2.617, 2.609, 2.614, 2.6029999999999998, 2.5869999999999997, 2.588, 2.584, 2.564, 2.562, 2.554, 2.5549999999999997, 2.554, 2.5389999999999997, 2.548, 2.5389999999999997, 2.5309999999999997, 2.527, 2.533, 2.517, 2.516, 2.508, 2.511, 2.504, 2.5, 2.505, 2.493, 2.4909999999999997, 2.487, 2.484, 2.481, 2.4859999999999998, 2.4909999999999997, 2.4819999999999998, 2.483, 2.968, 3.011, 3.028, 3.027, 3.028, 3.03, 3.043, 3.041, 3.0389999999999997, 3.044, 3.042, 3.0389999999999997, 3.038, 3.043, 3.0389999999999997, 3.028, 3.025, 3.019, 3.026, 3.011, 2.996, 2.981, 2.995, 2.984, 2.968, 2.969, 2.949, 2.956, 2.952, 2.933, 2.918, 2.913, 2.878, 2.848, 2.872, 2.927, 2.9379999999999997, 2.9219999999999997, 2.9419999999999997, 2.926, 2.87, 2.824, 2.756, 2.75, 2.7399999999999998, 2.7279999999999998, 2.719, 2.693, 2.67, 2.675, 2.651, 2.646, 2.636, 2.636, 2.621, 2.6109999999999998, 2.591, 2.6069999999999998, 2.622, 2.625, 2.62, 2.609, 2.6159999999999997, 2.61, 2.5999999999999996, 2.612, 2.6079999999999997, 2.62, 2.631, 2.6399999999999997, 2.6639999999999997, 2.7319999999999998, 2.788, 2.819, 2.855, 2.8689999999999998, 2.88, 2.887, 2.892, 2.887, 2.901, 2.903, 2.92, 2.924, 2.951, 2.9659999999999997, 2.985, 2.977, 2.979, 2.981, 2.98, 2.987, 2.993, 2.9819999999999998, 2.992, 3.002, 3.022, 3.037, 3.0589999999999997, 3.056, 3.076, 3.1, 3.106, 3.0829999999999997, 3.078, 3.0869999999999997, 3.124, 3.126, 3.102, 3.118, 3.138, 3.149, 3.136, 3.0069999999999997, 2.965, 2.948, 2.98, 2.9779999999999998, 2.971, 2.965, 2.9779999999999998, 2.993, 2.996, 2.983, 2.967, 2.945, 2.935, 2.9299999999999997, 2.92, 2.92, 2.9219999999999997, 2.939, 2.936, 2.949, 2.9779999999999998, 2.983, 2.9939999999999998, 2.9859999999999998, 2.987, 2.9699999999999998, 2.9659999999999997, 2.957, 2.9499999999999997, 2.9579999999999997, 2.957, 2.939, 2.947, 2.964, 2.969, 3.018, 3.053, 3.037, 3.017, 3.028, 3.022, 2.989, 2.965, 2.956, 2.955, 2.947, 2.9899999999999998, 2.98, 2.969, 2.964, 2.951, 2.941, 2.94, 2.927, 2.924, 2.916, 2.923, 2.918, 2.916, 2.908, 2.901, 2.8899999999999997, 2.889, 2.8979999999999997, 2.854, 2.876, 2.8609999999999998, 2.843, 2.864, 2.866, 2.87, 2.881, 2.885, 2.877, 2.8689999999999998, 2.872, 2.838, 2.82, 2.815, 2.794, 2.776, 2.739, 2.764, 2.777, 2.756, 2.726, 2.7479999999999998, 2.7279999999999998, 2.699, 2.68, 2.702, 2.695, 2.705, 2.684, 2.671, 2.6759999999999997, 2.669, 2.669, 2.666, 2.6719999999999997, 2.663, 2.6559999999999997, 2.663, 2.652, 2.657, 2.658, 2.653, 2.657, 2.661, 2.653, 2.654, 2.666, 2.669, 2.674, 2.6919999999999997, 2.694, 2.699, 2.7039999999999997, 2.699, 2.711, 2.708, 2.7199999999999998, 2.7199999999999998, 2.723, 2.717, 2.727, 2.721, 2.7329999999999997, 2.723, 2.7319999999999998, 2.73, 2.7319999999999998, 2.7329999999999997, 2.729, 2.743, 2.735, 2.747, 2.7439999999999998, 2.745, 2.764, 2.761, 2.764, 2.767, 2.777, 2.782, 2.792, 2.788, 2.791, 2.802, 2.801, 2.811, 2.819, 2.823, 2.8129999999999997, 2.816, 2.818, 2.826, 2.8249999999999997, 2.834, 2.834, 2.842, 2.846, 2.8449999999999998, 2.855, 2.8609999999999998, 2.8569999999999998, 2.864, 2.8569999999999998, 2.859, 2.8609999999999998, 2.867, 2.872, 2.863, 2.8729999999999998, 2.8689999999999998, 2.871, 2.8689999999999998, 2.871, 2.872, 2.8739999999999997, 2.876, 2.877, 2.879, 2.872, 2.8819999999999997, 2.875, 2.881, 2.88, 2.8729999999999998, 2.881, 2.8729999999999998, 2.868, 2.87, 2.8689999999999998, 2.86, 2.847, 2.84, 2.8329999999999997, 2.834, 2.819, 2.816, 2.818, 2.808, 2.795, 2.791, 2.753, 2.753, 2.7439999999999998, 2.756, 2.752, 2.763, 2.754, 2.726, 2.708, 2.703, 2.644, 2.625, 2.627, 2.644, 2.66, 2.65, 2.651, 2.667, 2.7, 2.701, 2.68, 2.67, 2.674, 2.668, 2.667, 2.659, 2.655, 2.66, 2.65, 2.647, 2.649, 2.643, 2.646, 2.653, 2.651, 2.6479999999999997, 2.651, 2.643, 2.652, 2.65, 2.644, 2.644, 2.638, 2.639, 2.645, 2.641, 2.642, 2.651, 2.645, 2.6399999999999997, 2.6399999999999997, 2.647, 2.643, 2.638, 2.641, 2.6399999999999997, 2.6399999999999997, 2.635, 2.636, 2.636, 2.644, 2.649, 2.649, 2.642, 2.638, 2.65, 2.6399999999999997, 2.703, 2.735, 2.729, 2.726, 2.735, 2.7249999999999996, 2.7329999999999997, 2.7329999999999997, 2.7319999999999998, 2.734, 2.722, 2.719, 2.716, 2.7249999999999996, 2.713, 2.71, 2.719, 2.7119999999999997, 2.708, 2.721, 2.714, 2.721, 2.711, 2.714, 2.71, 2.723, 2.723, 2.735, 2.7249999999999996, 2.737, 2.742, 2.747, 2.76, 2.769, 2.7849999999999997, 2.792, 2.814, 2.827, 2.823, 2.846, 2.851, 2.86, 2.8529999999999998, 2.864, 2.862, 2.8609999999999998, 2.8739999999999997, 2.862, 2.87, 2.862, 2.871, 2.871, 2.858, 2.8649999999999998, 2.86, 2.856, 2.864, 2.8609999999999998, 2.863, 2.862, 2.848, 2.846, 2.835, 2.814, 2.801, 2.783, 2.77, 2.7569999999999997, 2.742, 2.7319999999999998, 2.7319999999999998, 2.717, 2.694, 2.657, 2.6639999999999997, 2.591, 2.58, 2.564, 2.558, 2.54, 2.518, 2.504, 2.517, 2.4899999999999998, 2.473, 2.479, 2.4749999999999996, 2.501, 2.4939999999999998, 2.487, 2.489, 2.479, 2.468, 2.453, 2.453, 2.4299999999999997, 2.418, 2.3899999999999997, 2.354, 2.341, 2.34, 2.342, 2.336, 2.338, 2.335, 2.332, 2.338, 2.344, 2.335, 2.346, 2.336, 2.3369999999999997, 2.344, 2.333, 2.34, 2.341, 2.33, 2.34, 2.344, 2.384, 2.525, 2.4979999999999998, 2.481, 2.477, 2.467, 2.471, 2.467, 2.4739999999999998, 2.4699999999999998, 2.469, 2.469, 2.472, 2.46, 2.471, 2.4699999999999998, 2.468, 2.472, 2.4699999999999998, 2.466, 2.459, 2.451, 2.459, 2.455, 2.459, 2.455, 2.467, 2.46, 2.46, 2.453, 2.457, 2.452, 2.461, 2.453, 2.452, 2.453, 2.459, 2.456, 2.457, 2.46, 2.4619999999999997, 2.4699999999999998, 2.465, 2.454, 2.459, 2.459, 2.468, 2.464, 2.473, 2.471, 2.471, 2.464, 2.468, 2.463, 2.473, 2.473, 2.472, 2.472, 2.469, 2.465, 2.476, 2.463, 2.477, 2.476, 2.4749999999999996, 2.476, 2.481, 2.476, 2.476, 2.4739999999999998, 2.472, 2.481, 2.4819999999999998, 2.4699999999999998, 2.4779999999999998, 2.4739999999999998, 2.477, 2.477, 2.4739999999999998, 2.4699999999999998, 2.463, 2.457, 2.432, 2.417, 2.418, 2.407, 2.395, 2.37, 2.355, 2.348, 2.3289999999999997, 2.307, 2.29, 2.302, 2.291, 2.273, 2.255, 2.2279999999999998, 2.1839999999999997, 2.152, 2.138, 2.108, 2.0999999999999996, 2.084, 2.0729999999999995, 2.062, 2.0669999999999997, 2.0549999999999997, 2.045, 2.0489999999999995, 2.06, 2.0629999999999997, 2.077, 2.081, 2.09, 2.081, 2.092, 2.089, 2.084, 2.0869999999999997, 2.064, 2.044, 2.0389999999999997, 2.03, 2.037, 2.037, 2.045, 2.0460000000000003, 2.0489999999999995, 2.0460000000000003, 2.054, 2.077, 2.08, 2.0949999999999998, 2.094, 2.0949999999999998, 2.106, 2.1149999999999998, 2.109, 2.108, 2.1109999999999998, 2.108, 2.113, 2.126, 2.125, 2.137, 2.142, 2.147, 2.147, 2.144, 2.155, 2.158, 2.163, 2.157, 2.159, 2.162, 2.175, 2.165, 2.1799999999999997, 2.173, 2.17, 2.174, 2.1759999999999997, 2.177, 2.177, 2.1799999999999997, 2.182, 2.185, 2.182, 2.1879999999999997, 2.199, 2.198, 2.1999999999999997, 2.205, 2.202, 2.199, 2.202, 2.201, 2.201, 2.202, 2.197, 2.1959999999999997, 2.206, 2.21, 2.2079999999999997, 2.202, 2.205, 2.2039999999999997, 2.2159999999999997, 2.217, 2.207, 2.205, 2.206, 2.209, 2.221, 2.21, 2.221, 2.217, 2.225, 2.226, 2.215, 2.221, 2.2159999999999997, 2.229, 2.2279999999999998, 2.222, 2.2319999999999998, 2.225, 2.231, 2.223, 2.2319999999999998, 2.222, 2.225, 2.231, 2.218, 2.227, 2.214, 2.223, 2.213, 2.209, 2.211, 2.205, 2.202, 2.209, 2.2039999999999997, 2.21, 2.201, 2.201, 2.195, 2.175, 2.179, 2.1719999999999997, 2.177, 2.165, 2.163, 2.163, 2.155, 2.136, 2.113, 2.082, 2.057, 2.009, 1.975, 1.9619999999999997, 1.9389999999999998, 1.9139999999999997, 1.9049999999999998, 1.896, 1.8940000000000001, 1.887, 1.8860000000000001, 1.883, 1.8679999999999999, 1.8849999999999998, 1.9029999999999998, 1.9129999999999998, 1.919, 1.923, 1.928, 1.916, 1.916, 1.9209999999999998, 1.916, 1.9000000000000001, 1.8889999999999998, 1.891, 1.887, 1.892, 1.895, 1.9009999999999998, 1.899, 1.9049999999999998, 1.9029999999999998, 1.9059999999999997, 1.936, 1.9539999999999997, 1.9539999999999997, 1.96, 1.9769999999999999, 1.972, 1.9739999999999998, 1.987, 1.9939999999999998, 1.997, 1.991, 1.999, 2.019, 2.014, 2.0220000000000002, 2.027, 2.029, 2.036, 2.0460000000000003, 2.044, 2.042, 2.045, 2.0489999999999995, 2.0589999999999997, 2.065, 2.054, 2.056, 2.0629999999999997, 2.064, 2.068, 2.0759999999999996, 2.083, 2.07, 2.082, 2.0729999999999995, 2.074, 2.085, 2.081, 2.0789999999999997, 2.09, 2.089, 2.083, 2.09, 2.088, 2.09, 2.089, 2.102, 2.102, 2.0999999999999996, 2.092, 2.104, 2.0989999999999998, 2.109, 2.11, 2.105, 2.109, 2.104, 2.116, 2.116, 2.104, 2.109, 2.105, 2.108, 2.1149999999999998, 2.106, 2.1189999999999998, 2.114, 2.112, 2.113, 2.109, 2.114, 2.114, 2.108, 2.118, 2.102, 2.0989999999999998, 2.1069999999999998, 2.108, 2.112, 2.106, 2.11, 2.1069999999999998, 2.1149999999999998, 2.116, 2.1149999999999998, 2.1189999999999998, 2.12, 2.1149999999999998, 2.118, 2.12, 2.1069999999999998, 2.1149999999999998, 2.104, 2.101, 2.098, 2.106, 2.0999999999999996, 2.094, 2.09, 2.081, 2.078, 2.084, 2.078, 2.083, 2.07, 2.068, 2.0669999999999997, 2.0709999999999997, 2.0509999999999997, 2.041, 2.041, 2.024, 1.995, 1.94, 1.895, 1.8639999999999999, 1.8409999999999997, 1.8409999999999997, 1.8449999999999998, 1.831, 1.8169999999999997, 1.814, 1.826, 1.8369999999999997, 1.862, 1.871, 1.866, 1.8729999999999998, 1.87, 1.8729999999999998, 1.8639999999999999, 1.862, 1.8399999999999999, 1.822, 1.826, 1.831, 1.8409999999999997, 1.831, 1.8439999999999999, 1.8439999999999999, 1.8399999999999999, 1.8529999999999998, 1.858, 1.8769999999999998, 1.899, 1.8980000000000001, 1.9009999999999998, 1.9179999999999997, 1.922, 1.9169999999999998, 1.9289999999999998, 1.931, 1.936, 1.935, 1.946, 1.9499999999999997, 1.9619999999999997, 1.973, 1.987, 1.984, 1.9999999999999998, 2.005, 2.01, 2.01, 2.009, 2.017, 2.006, 2.011, 2.007, 2.009, 2.018, 2.023, 2.016, 2.0149999999999997, 2.018, 2.03, 2.025, 2.027, 2.03, 2.036, 2.034, 2.026, 2.0309999999999997, 2.0349999999999997, 2.03, 2.033, 2.042, 2.032, 2.041, 2.04, 2.04, 2.045, 2.044, 2.044, 2.053, 2.041, 2.0389999999999997, 2.04, 2.038, 2.04, 2.0509999999999997, 2.041, 2.0389999999999997, 2.045, 2.0429999999999997, 2.041, 2.05, 2.038, 2.0489999999999995, 2.044, 2.042, 2.038, 2.034, 2.0309999999999997, 2.042, 2.038, 2.048, 2.0389999999999997, 2.041, 2.0429999999999997, 2.0460000000000003, 2.0460000000000003, 2.0349999999999997, 2.036, 2.0429999999999997, 2.0429999999999997, 2.042, 2.056, 2.0549999999999997, 2.0549999999999997, 2.053, 2.0460000000000003, 2.034, 2.04, 2.044, 2.033, 2.028, 2.0309999999999997, 2.028, 2.014, 2.0119999999999996, 1.984, 1.931, 1.9209999999999998, 1.9699999999999998, 1.9419999999999997, 1.9179999999999997, 1.907, 1.9129999999999998, 1.9009999999999998, 1.883, 1.8639999999999999, 1.8289999999999997, 1.806, 1.7969999999999997, 1.778, 1.7809999999999997, 1.7599999999999998, 1.75, 1.7639999999999998, 1.755, 1.7719999999999998, 1.766, 1.7730000000000001, 1.758, 1.7559999999999998, 1.7479999999999998, 1.759, 1.763, 1.745, 1.77, 1.7759999999999998, 1.7759999999999998, 1.7690000000000001, 1.762, 1.749, 1.7359999999999998, 1.741, 1.7469999999999999, 1.738, 1.751, 1.7639999999999998, 1.767, 1.763, 1.775, 1.7809999999999997, 1.799, 1.8159999999999998, 1.814, 1.83, 1.83, 1.8329999999999997, 1.838, 1.847, 1.847, 1.8599999999999999, 1.859, 1.8609999999999998, 1.87, 1.8769999999999998, 1.879, 1.8900000000000001, 1.887, 1.8940000000000001, 1.896, 1.9119999999999997, 1.9139999999999997, 1.919, 1.911, 1.916, 1.9149999999999998, 1.9139999999999997, 1.928, 1.924, 1.932, 1.931, 1.934, 1.924, 1.9299999999999997, 1.931, 1.931, 1.936, 1.932, 1.9419999999999997, 1.935, 1.936, 1.9449999999999998, 1.948, 1.9509999999999998, 1.955, 1.955, 1.948, 1.9499999999999997, 1.9529999999999998, 1.9499999999999997, 1.96, 1.958, 1.9529999999999998, 1.9529999999999998, 1.96, 1.9649999999999999, 1.9689999999999999, 1.959, 1.9689999999999999, 1.9699999999999998, 1.967, 1.9659999999999997, 1.971, 1.967, 1.9769999999999999, 1.9659999999999997, 1.9739999999999998, 1.9779999999999998, 1.9779999999999998, 1.9699999999999998, 1.9699999999999998, 1.9819999999999998, 1.984, 1.9759999999999998, 1.979, 1.9779999999999998, 1.9819999999999998, 1.9859999999999998, 1.9809999999999999, 1.9939999999999998, 1.9879999999999998, 1.995, 1.9819999999999998, 1.987, 1.987, 1.9939999999999998, 1.98, 1.9809999999999999, 1.9879999999999998, 1.9759999999999998, 1.975, 1.9699999999999998, 1.958, 1.96, 1.952, 1.956, 1.958, 1.9449999999999998, 1.9389999999999998, 1.91, 1.866, 1.8679999999999999, 1.863, 1.8639999999999999, 1.847, 1.871, 1.842, 1.8159999999999998, 1.8129999999999997, 1.7770000000000001, 1.7469999999999999, 1.733, 1.7069999999999999, 1.694, 1.6829999999999998, 1.6759999999999997, 1.6679999999999997, 1.662, 1.6360000000000001, 1.6360000000000001, 1.6349999999999998, 1.6219999999999999, 1.604, 1.612, 1.5979999999999999, 1.605, 1.6109999999999998, 1.6269999999999998, 1.6269999999999998, 1.638, 1.638, 1.6669999999999998, 1.6599999999999997, 1.6440000000000001, 1.661, 1.6389999999999998, 1.6429999999999998, 1.638, 1.6520000000000001, 1.665, 1.6679999999999997, 1.6639999999999997, 1.6549999999999998, 1.6759999999999997, 1.6839999999999997, 1.701, 1.701, 1.7119999999999997, 1.7189999999999999, 1.73, 1.7279999999999998, 1.738, 1.7479999999999998, 1.7429999999999999, 1.758, 1.754, 1.759, 1.77, 1.7599999999999998, 1.7610000000000001, 1.77, 1.759, 1.762, 1.7690000000000001, 1.759, 1.7599999999999998, 1.77, 1.762, 1.759, 1.77, 1.7650000000000001, 1.758, 1.7679999999999998, 1.7679999999999998, 1.758, 1.763, 1.77, 1.7650000000000001, 1.759, 1.7690000000000001, 1.7650000000000001, 1.758, 1.7639999999999998, 1.7690000000000001, 1.759, 1.7570000000000001, 1.767, 1.7679999999999998, 1.7599999999999998, 1.7599999999999998, 1.7690000000000001, 1.7679999999999998, 1.759, 1.7610000000000001, 1.7690000000000001, 1.767, 1.759, 1.766, 1.7679999999999998, 1.7690000000000001, 1.766, 1.7690000000000001, 1.7599999999999998, 1.7679999999999998, 1.771, 1.7599999999999998, 1.767, 1.7719999999999998, 1.7610000000000001, 1.766, 1.7719999999999998, 1.7610000000000001, 1.7679999999999998, 1.766, 1.7610000000000001, 1.7719999999999998, 1.7650000000000001, 1.762, 1.7719999999999998, 1.7679999999999998, 1.7610000000000001, 1.7610000000000001, 1.77, 1.77, 1.7610000000000001, 1.7719999999999998, 1.767, 1.763, 1.774, 1.771, 1.762, 1.7730000000000001, 1.766, 1.7690000000000001, 1.7719999999999998, 1.762, 1.77, 1.7730000000000001, 1.763, 1.766, 1.7639999999999998, 1.774, 1.7679999999999998, 1.7679999999999998, 1.7770000000000001, 1.767, 1.7679999999999998, 1.778, 1.7650000000000001, 1.775, 1.7690000000000001, 1.7639999999999998, 1.7759999999999998, 1.7690000000000001, 1.766, 1.7759999999999998, 1.7679999999999998, 1.766, 1.775, 1.774, 1.767, 2.148, 2.171, 2.179, 2.143, 2.135, 2.154, 2.155],
            irrigationEvents: ['2023-09-20 12:55:30', '2023-09-29 19:07:01', '2023-09-29 19:08:42', '2023-09-29 19:18:47', '2023-09-29 19:20:28', '2023-09-29 19:30:33', '2023-09-29 19:32:14', '2023-09-29 19:42:19', '2023-09-29 19:44:01', '2023-09-29 19:54:06', '2023-09-29 19:55:47']
        };

        // Call the functions when the page loads
        window.onload = function () {
            updateMoistureColor();
            createLineChart(Data);
        };
    </script>
</head>
<body>
    <h1>Latest Soil Moisture Measurement</h1>
    <p class="moisture-value">Moisture Value: 2.155</p>
    <p>Time of Measurement: 2023-10-02 22:59:59</p>
    <div class="traffic-light"></div>
    <div class="soil-condition-text">Soil Condition: Unknown</div>
    <div class="chart-container">
        <canvas id="lineChart"></canvas>
    </div>
</body>
</html>